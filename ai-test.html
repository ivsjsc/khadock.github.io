<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KhaDock AI Design Generator - Simple</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-white p-4 font-inter">
    <div class="max-w-4xl mx-auto">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-sky-800 mb-2">üé® KhaDock AI Design Generator</h1>
              <p class="text-gray-600">Creative dock design with AI - No signup required!</p>
        </div>

        <!-- AI Design Generator -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-2xl font-semibold text-sky-700 mb-4">
                <i class="fas fa-magic mr-2"></i>
                Describe your dock design idea
            </h2>
            
            <div class="mb-4">
                <textarea 
                    id="ai-design-input" 
                    rows="4" 
                    class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-sky-500 focus:border-transparent"
                    placeholder="Example: Modern floating dock for a sailboat, with LED lighting, composite decking, and a swim ladder. 30 feet long, space for entertaining guests."
                ></textarea>
            </div>

            <div class="flex gap-3 mb-4">
                <button 
                    id="ai-generate-btn" 
                    class="bg-sky-500 hover:bg-sky-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center"
                >
                    <i class="fas fa-wand-magic-sparkles mr-2"></i>
                    Generate Design
                </button>
                <button 
                    id="ai-clear-input-btn" 
                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors"
                >
                    <i class="fas fa-eraser mr-2"></i>
                    Clear
                </button>
            </div>

            <!-- Loading -->
            <div id="ai-loading" class="hidden bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                <div class="flex items-center">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-sky-500 mr-3"></div>
                    <span id="ai-loading-text" class="text-blue-700">Generating your creative dock design...</span>
                </div>
            </div>

            <!-- Error -->
            <div id="ai-error" class="hidden bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
                <div class="flex items-center">
                    <i class="fas fa-exclamation-triangle text-red-500 mr-3"></i>
                    <span class="text-red-700">Something went wrong. Please try again.</span>
                </div>
            </div>

            <!-- Output -->
            <div id="ai-output-container" class="hidden">
                <div class="bg-gradient-to-r from-sky-50 to-blue-50 border border-sky-200 rounded-lg p-6">
                    <div id="ai-output" class="prose prose-sky max-w-none"></div>
                </div>

                <!-- Additional Features -->
                <div id="gemini-extra-features" class="mt-6 hidden">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Additional features:</h3>
                    <div class="flex gap-3 flex-wrap">
                        <button 
                            id="ai-maintenance-btn" 
                            class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"
                        >
                            <i class="fas fa-tools mr-2"></i>
                            Maintenance Guide
                        </button>
                        <button 
                            id="ai-accessories-btn" 
                            class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"
                        >
                            <i class="fas fa-plus-circle mr-2"></i>
                            Suggested Accessories
                        </button>
                    </div>
                </div>
            </div>

            <!-- Maintenance Loading -->
            <div id="ai-maintenance-loading" class="hidden bg-green-50 border border-green-200 rounded-lg p-4 mt-4">
                <div class="flex items-center">
                    <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-green-500 mr-3"></div>
                        <span class="text-green-700 text-sm">Loading maintenance guide...</span>
                </div>
            </div>

            <!-- Accessories Loading -->
            <div id="ai-accessories-loading" class="hidden bg-purple-50 border border-purple-200 rounded-lg p-4 mt-4">
                <div class="flex items-center">
                    <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500 mr-3"></div>
                        <span class="text-purple-700 text-sm">Loading suggested accessories...</span>
                </div>
            </div>

            <!-- Maintenance Output -->
            <div id="ai-maintenance-output" class="hidden mt-4 bg-green-50 border border-green-200 rounded-lg p-4"></div>

            <!-- Accessories Output -->
            <div id="ai-accessories-output" class="hidden mt-4 bg-purple-50 border border-purple-200 rounded-lg p-4"></div>
        </div>

        <!-- Quick Examples -->
        <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">
                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                Example design prompts:
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
                    <div class="example-card bg-sky-50 p-4 rounded-lg cursor-pointer hover:bg-sky-100 transition-colors" 
                     onclick="setExample('Luxurious lakeside dock with a covered lounge area and LED lighting')">
                    <h4 class="font-semibold text-sky-800">üèñÔ∏è Lakeside Villa</h4>
                    <p class="text-sm text-gray-600">Luxurious dock with a relaxation area</p>
                </div>
                <div class="example-card bg-blue-50 p-4 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors"
                     onclick="setExample('Sturdy fishing dock with storm-resistant features and fish storage')">
                    <h4 class="font-semibold text-blue-800">üé£ Fishing Dock</h4>
                    <p class="text-sm text-gray-600">Professional design for anglers</p>
                </div>
                <div class="example-card bg-green-50 p-4 rounded-lg cursor-pointer hover:bg-green-100 transition-colors"
                     onclick="setExample('Eco-friendly dock using solar power and recycled materials')">
                    <h4 class="font-semibold text-green-800">üå± Eco-friendly</h4>
                    <p class="text-sm text-gray-600">Green design with solar power</p>
                </div>
                <div class="example-card bg-orange-50 p-4 rounded-lg cursor-pointer hover:bg-orange-100 transition-colors"
                     onclick="setExample('Commercial marina dock with multiple berths and customer services')">
                    <h4 class="font-semibold text-orange-800">üè¢ Commercial Marina</h4>
                    <p class="text-sm text-gray-600">Large-scale design for commercial use</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Include the AI generator script -->
    <script>
        window.KHADOCK_API_BASE = 'https://khadock-ai-server.onrender.com';
        window.KHADOCK_API_BASE_FALLBACK = 'https://khadock-ai-server.onrender.com';
    </script>
    <script src="js/ai-design-simple.js"></script>

    <script>
        function setExample(text) {
            document.getElementById('ai-design-input').value = text;
            document.getElementById('ai-design-input').focus();
        }

        // Show some loading feedback
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üé® KhaDock AI Design Generator ready!');
            console.log('üåê Server: http://localhost:3001');
        });
    </script>
</body>
</html>